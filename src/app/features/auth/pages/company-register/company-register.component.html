<div class="register_form_container">
  <div class="aside_form">
    <img ngSrc="/LOGO%20BLANC_small.png" alt="logo_acf"  priority width="308" height="280" id="logo_register_form">
  </div>

  <form [formGroup]="companyRegisterForm" class="register_form" (ngSubmit)="handleCompagnyRegisterFormSubmit()">
    <h1>S'inscrire</h1>
    <p>Inscrivez-vous gratuitement pour accéder à nos services</p>
    <!-- Nom de l'entreprise -->
    <div class="floating-label">
      <input id="name" name="companyName" type="text" placeholder=" " formControlName="name" required appFloatingLabel />
      <label for="name">Nom de l'entreprise*</label>
      <!--<div *ngIf="companyRegisterForm.get('name')?.invalid && companyRegisterForm.get('name')?.touched" class="error-message">
        Le nom de l'entreprise est requis.
      </div>-->
    </div>

    <!-- Email -->
    <div class="floating-label">
      <input id="email" name="email" type="email" placeholder=" " formControlName="email" required appFloatingLabel />
      <label for="email">Email*</label>
      <!--<div *ngIf="companyRegisterForm.get('email')?.invalid && companyRegisterForm.get('email')?.touched" class="error-message">
        <span *ngIf="companyRegisterForm.get('email')?.errors?.['required']">L'email est requis.</span>
        <span *ngIf="companyRegisterForm.get('email')?.errors?.['email']">L'email n'est pas valide.</span>
      </div>-->
    </div>
    <!-- Téléphone -->
    <div class="floating-label">
      <input id="telephone" type="text" placeholder=" " formControlName="telephone" required appFloatingLabel />
      <label for="telephone">Téléphone*</label>
     <!-- <div *ngIf="companyRegisterForm.get('telephone')?.invalid && companyRegisterForm.get('telephone')?.touched" class="error-message">
        Le téléphone est requis.
      </div>-->
    </div>
    <!-- Mot de passe -->
    <div class="floating-label">
      <input id="password" name="password" type="password" placeholder=" " formControlName="password" required appFloatingLabel />
       <label for="password">Mot de passe*</label>
     <!-- <div *ngIf="companyRegisterForm.get('password')?.invalid && companyRegisterForm.get('password')?.touched" class="error-message">
        <span *ngIf="companyRegisterForm.get('password')?.errors?.['required']">Le mot de passe est requis.</span>
        <span *ngIf="companyRegisterForm.get('password')?.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caractères.</span>
      </div>-->
    </div>
    <small><p style="padding:0;margin:0;">Votre mot de passe doit contenir 8 caractères ou plus avec un mélange de lettres, de chiffres et de symboles.</p></small>


    <!-- RGPD -->
    <div class="checkbox_register"  style="margin-bottom:0;">
      <input id="acceptTerms" type="checkbox" formControlName="acceptTerms" />
      <p>
        Acceptez nos
        <a href="#" (click)="goToConditions($event)" style="text-decoration: underline;">
          Conditions d'utilisation et notre Politique de confidentialité
        </a>
      </p>
    </div>

    <div *ngIf="companyRegisterForm.get('acceptTerms')?.invalid && companyRegisterForm.get('acceptTerms')?.touched" class="error-message">
      Acceptez nos Conditions d'utilisation et notre Politique de confidentialité
    </div>
    <!--Fin RGPD-->
    <!-- ROP -->
    <div class="checkbox_register" style="margin-top:10px;">
      <input id="acceptTermsRop" type="checkbox" formControlName="acceptTermsRop" />
      <p>
        Acceptez notre
        <a href="#" (click)="goToRop($event)" style="text-decoration: underline;">
          Règlement intérieur
        </a>
      </p>
    </div>

    <div *ngIf="companyRegisterForm.get('acceptTermsRop')?.invalid && companyRegisterForm.get('acceptTermsRop')?.touched" class="error-message">
      Vous devez accepter le règlement intérieur pour continuer.
    </div>
    <!--Fin ROP-->

    <!-- Erreur serveur -->
    <div *ngIf="errorMessage" class="error-message" style="margin-top: 1rem;">
      {{ errorMessage }}
    </div>

    <!-- Bouton -->
  <!--  <button [disabled]="isLoading || companyRegisterForm.invalid" style="margin-top: 1rem;">
      {{ isLoading ? 'Création en cours...' : 'S’inscrire' }}
    </button>-->
    <button
      [disabled]="isLoading || companyRegisterForm.invalid"
    >
      {{ isLoading ? 'Création en cours...' : 'S’inscrire' }}
    </button>

    <p> <br>Vous avez déjà un compte ?<a routerLink="/users/login"> Connectez-vous</a></p>
  </form>
</div>
