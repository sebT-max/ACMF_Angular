<div class="register_form_container">
  <div class="aside_form">
    <img id="logo_register_form" ngSrc="/LOGO%20BLANC.png" alt="logo_acf" width="308" height="280">

  </div>

  <form [formGroup]="registerForm" class="register_form" (ngSubmit)="handleRegisterFormSubmit()">

    <!-- Nom -->
    <div>
      <h1>S'inscrire</h1>
      <p>Vous devez vous enregistrer afin de vous inscrire à l'un de nos stages</p>
     <!-- <label for="lastname">Nom :</label>-->
      <input id="lastname" type="text" placeholder="Nom*" formControlName="lastname" />
      <div *ngIf="registerForm.get('lastname')?.invalid && registerForm.get('lastname')?.touched" class="error-message">
        <span *ngIf="registerForm.get('lastname')?.errors?.['required']">Le nom est requis</span>
      </div>
    </div>

      <!-- Prénom -->
      <div>
       <!-- <label for="firstname">Prénom :</label>-->
        <input id="firstname" type="text" placeholder="Prénom*" formControlName="firstname" />
        <div *ngIf="registerForm.get('firstname')?.invalid && registerForm.get('firstname')?.touched" class="error-message">
          <span *ngIf="registerForm.get('firstname')?.errors?.['required']">Le prénom est requis</span>
        </div>
      </div>

    <!-- Email -->
      <div>
    <!--    <label for="email">Email :</label>-->
        <input id="email" type="email" placeholder="Email*" formControlName="email" />
        <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error-message">
          <span *ngIf="registerForm.get('email')?.errors?.['required']">L'email est requis.</span>
          <span *ngIf="registerForm.get('email')?.errors?.['email']">Format d'email invalide.</span>
        </div>
      </div>

    <!-- Mot de passe -->
      <div>
       <!-- <label for="password">Mot de passe :</label>-->
        <input id="password" type="password" placeholder="Mot de passe*" formControlName="password" />
        <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error-message">
          <span *ngIf="registerForm.get('password')?.errors?.['required']">Le mot de passe est requis.</span>
          <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Minimum 6 caractères.</span>
        </div>
      </div>

      <!-- Date de naissance -->
      <div>
       <!-- <label for="birthDate">Date de naissance :</label>-->
        <input id="birthDate" placeholder="Date de naissance*" type="date" formControlName="birthDate" />
        <div *ngIf="registerForm.get('birthDate')?.invalid && registerForm.get('birthDate')?.touched" class="error-message">
          La date de naissance est requise.
        </div>
      </div>

    <!-- Téléphone -->
      <div>
        <!--<label for="telephone">Téléphone :</label>-->
        <input id="telephone" type="text" placeholder="Téléphone*" formControlName="telephone" />
        <div *ngIf="registerForm.get('telephone')?.invalid && registerForm.get('telephone')?.touched" class="error-message">
          Le téléphone est requis.
        </div>
      </div>
      <br>
    <!-- RGPD -->
    <div class="checkbox_register">
      <input style="color:black;" id="acceptTerms" type="checkbox" formControlName="acceptTerms" />
      <!-- <label for="acceptTerms" style=""></label>-->
      <p style="color:black;font-weight:100;font-size:10px;">Acceptez nos Conditions d'utilisation et notre Politique de confidentialité</p>
    </div>

    <div *ngIf="registerForm.get('acceptTerms')?.invalid && registerForm.get('acceptTerms')?.touched" class="error-message">
      Acceptez nos Conditions d'utilisation et notre Politique de confidentialité
    </div>

    <!-- Erreur serveur -->
    <div *ngIf="errorMessage" class="error-message" style="margin-top: 1rem;">
      {{ errorMessage }}
    </div>

    <!-- Bouton -->
    <button [disabled]="isLoading || registerForm.invalid" style="margin-top: 1rem;">
      {{ isLoading ? 'Création en cours...' : 'S’inscrire' }}
    </button>
  </form>
</div>

